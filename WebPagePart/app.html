<!DOCTYPE html>
<html lang="en">
    
<head>
    <title>3D_Editor</title>
    <meta charset="UTF-8">
    <ul id="menu">
    <li>
        <a href="#">Menu 1</a>
        <ul>
            <li>    
                <a href="#" onclick="addCube();">Cube</a>
            </li>
            <li>
                <a href="#" onclick="addSphere();">Sphere</a>
            </li>
            <li>
                <a href="#">Menu 1-3</a>
            </li>
        </ul>
    </li>
    <li>
        <a href="#">Add</a>
        <ul>
            <li>
                <a href="#" onclick="addCube();">Cube</a>
            </li>
            <li>
                <a href="#" onclick="addSphere();">Sphere</a>
            </li>
            <li>
                <a href="#" onclick="addCylinder();">Cylinder</a>
            </li>
        </ul>
    </li>
    <li>
        <a href="#">Menu 3</a>
        <ul>
            <li>
                <a href="#">Menu 3-1</a>
            </li>
            <li>
                <a href="#">Menu 3-2</a>
            </li>
            <li>
                <a href="#">Menu 3-3</a>
            </li>
        </ul>
    </li>
</ul>
</head>
    
<body>
    <script src="libs/three.js" type="text/javascript"></script>
    <script src="libs/jquery-1.9.1.js" type="text/javascript"></script>
    <script src="libs/TrackballControls.js" type="text/javascript"></script>
    <script src="libs/stats.min.js" type="text/javascript"></script>
    <script src="libs/RequestAnimationFrame.js" type="text/javascript"></script>
    <script src="js/cube.js" type=text/javascript></script>
    <script src="js/sphere.js" type=text/javascript></script>
    <script src="js/cylinder.js" type=text/javascript></script>
    <script src="js/onDocumentMouseDown.js" type=text/javascript></script>
    <script src="js/onDocumentMouseMove.js" type=text/javascript></script>
    <script src="js/onDocumentMouseUp.js" type=text/javascript></script>
    <script src="js/onWindowResize.js" type=text/javascript></script>
    <link href="css/MyCSS.css" rel="stylesheet" type="text/css">
    <script>
        
        var cube, sphere;
        var renderer, scene, camera, animating, container;
        
        var objects = [];
        var plane = new THREE.Plane();
        var raycaster = new THREE.Raycaster();
        var mouse = new THREE.Vector2(),
			offset = new THREE.Vector3(),
			intersection = new THREE.Vector3(),
			INTERSECTED, SELECTED;
        
        init();
        animate();
        
        function init(){
            
            container = document.createElement("div");
            document.body.appendChild(container);

            camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 10000);
            camera.position.z = 10;
            
            controls = new THREE.TrackballControls(camera);
            controls.rotateSpeed = 1.0;
            controls.zoomSpeed = 1.2;
            controls.panSpeed = 0.8;
            controls.noZoom = false;
            controls.noPan = false;
            controls.staticMoving = true;
            controls.dynamicDampingFactor = 0.3;
            
            scene = new THREE.Scene();
            
            var light = new THREE.SpotLight( 0xffffff, 1.5 );
            light.position.set( 0, 500, 2000 );
            light.castShadow = true;
            
            light.shadow = new THREE.LightShadow( new THREE.PerspectiveCamera( 50, 1, 200, 10000 ) );
            light.shadow.bias = - 0.00022;

            light.shadow.mapSize.width = 2048;
            light.shadow.mapSize.height = 2048;
            
            scene.add(light);
            
            var gridHelper = new THREE.GridHelper(10, 0.5);
            scene.add(gridHelper);
            
            var axisHelper = new THREE.AxisHelper(1);
            scene.add(axisHelper);
            
            var dir_x = new THREE.Vector3(1, 0, 0);
            var dir_y = new THREE.Vector3(0, 1, 0);
            var dir_z = new THREE.Vector3(0, 0, 1);
            var origin = new THREE.Vector3(0, 0, 0);
            var length = 1;
            var color_x = 0xff0000;
            var color_y = 0x00ff00;
            var color_z = 0x0000ff;
            var arrowHelper_x = new THREE.ArrowHelper(dir_x, origin, length, color_x);
            var arrowHelper_y = new THREE.ArrowHelper(dir_y, origin, length, color_y);
            var arrowHelper_z = new THREE.ArrowHelper(dir_z, origin, length, color_z);
            scene.add(arrowHelper_x);
            scene.add(arrowHelper_y);
            scene.add(arrowHelper_z);
         
            
            renderer = new THREE.WebGLRenderer( { antialias: true } );
            renderer.setClearColor( 0xf0f0f0 );
            renderer.setPixelRatio( window.devicePixelRatio );
            renderer.setSize( window.innerWidth * 0.85, window.innerHeight * 0.85 );
            renderer.sortObjects = false;
            
            renderer.shadowMap.enabled = true;
            renderer.shadowMap.type = THREE.PCFShadowMap;
            container.appendChild( renderer.domElement );
            
            stats = new Stats();
            container.appendChild( stats.dom );
            
            renderer.domElement.addEventListener('mousemove', onDocumentMouseMove, false);
            renderer.domElement.addEventListener('mousedown', onDocumentMouseDown, false);
            renderer.domElement.addEventListener('mouseup', onDocumentMouseUp, false);
            
            window.addEventListener('resize', onWindowResize, false);
            
        }
        
        function animate(){
            requestAnimationFrame(animate);
            render();
            stats.update();
        }
        function render(){
            controls.update();
            renderer.render(scene, camera);
        }
        
    </script>
    
</body>
</html>